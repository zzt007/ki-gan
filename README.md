# KI_GAN

## log 
### 241117 ğŸ‘‡
``` 
1ã€å°†æ¨¡å‹è¯„ä¼°æŒ‡æ ‡ä»2ä½å°æ•°è½¬ä¸º3ä½å°æ•°ï¼Œä¸ºæ­¤éœ€è¦å¾—åˆ°12-12çš„æ¨¡å‹ï¼ˆå› ä¸ºä¹‹å‰è®­çš„éƒ½æ˜¯12-18ï¼‰çš„ -- å·²è®­ç»ƒå¥½ï¼šåŸè®ºæ–‡ä¸­çš„ç»“æœæ˜¯ ADE = 0.056, FDE = 0.117ï¼›æˆ‘çš„æ˜¯ADE = 0.048ï¼ŒFDE = 0.101, ä»æ•°å€¼ä¸Šå„è‡ªæå‡äº† 14.286% å’Œ 13.675%
2ã€é’ˆå¯¹åŸæ–‡æ¨¡å‹çš„evalï¼Œé‡æ–°åŒºåˆ†paper_evaluate.py å’Œ paper_models.pyï¼›å‰è€…æ”¾åœ¨scriptsä¸‹äº†ï¼Œåè€…åœ¨ki-ganä¸‹ï¼Œç”¨çš„æ—¶å€™ï¼ŒæŠŠfrom kigan.é‚£é‡Œè¿›è¡Œç›¸åº”ä¿®æ”¹ï¼ˆä»models åˆ° paper_modelsï¼‰å³å¯
3ã€è¿˜éœ€è¦æ¢æ˜å¦‚ä½•ä½¿ç”¨GANæ¥è¡¨ç¤ºå¤šæ¨¡æ€è½¨è¿¹ï¼Œç›®å‰çœ‹èµ·æ¥æ˜¯single
```

### 241116 ğŸ‘‡
```
1ã€evaläº†æ˜¨æ™šè®­ç»ƒä¸€ç‰ˆobs_len = 12, pred_len = 12çš„ï¼ŒADE = 0.05, FDE = 0.10,å–çš„æ•ˆæœè¾ƒåŸæ–‡å¥½ä¸€äº›ï¼ŒåŸæ–‡æŒ‡æ ‡ä¸ºADE = 0.05, FDE = 0.12, åªä»æ•°å€¼ä¸Šçœ‹ï¼ŒFDE æå‡16.67%ï¼Œä½†è¿˜éœ€è¦æ€è€ƒä¸ºä»€ä¹ˆADEæ²¡æœ‰æå‡
2ã€ä»Šå¤©æŠŠå¯è§†åŒ–åœ°å›¾ä»¥åŠè½¨è¿¹çš„çº¿å‹è¦ä¿®æ”¹ä¿®æ”¹
```

### 241115 ğŸ‘‡
```
1ã€å·²evalä¸Šåˆè®­ç»ƒçš„ï¼Œç›®å‰evalçš„ç»“æœæ˜¯æ¯”ä¹‹å‰å¥½çš„ï¼ŒADE = 0.10ï¼ŒFDE = 0.23ï¼ŒåŸæ–‡æŒ‡æ ‡æ˜¯ADE = 0.11, FDE = 0.26
2ã€å°†å¯¹åº”çš„è¿™ä¸ªæ¨¡å‹ä¹Ÿä¸Šä¼ è‡³githubï¼Œä½ç½®ki-gan/models
3ã€è®­ç»ƒä¸€ç‰ˆobs_len = 12, pred_len = 12çš„
```

```
1ã€å·²evalæ˜¨å¤©æ™šä¸Šè®­ç»ƒçš„ï¼Œå¤§æ¦‚éœ€è¦9å°æ—¶å·¦å³çš„è®­ç»ƒæ—¶é—´ï¼Œæ•ˆæœæ¯”åŸæ–‡è¦å·®ï¼ŒADE=0.16,FDE=0.28ï¼›
2ã€å°†spectralä¿¡æ¯ä¸æ‹¼æ¥è¿›å…¥attention poolä¸­ï¼Œç›´æ¥å’Œtrafficä¸€æ ·å†æ‹¼æ¥è¯•è¯•ï¼Œå¼€å§‹è®­ç»ƒ241115-ä¸Šåˆ10.32
```

### 241114 ğŸ‘‡
```
1ã€åˆæ­¥æ·»åŠ spectral encoderï¼Œå°šæœªå¯¹é½ç»´åº¦ï¼›ç”±äºcuda torch.fftæ€»æ˜¯æŠ¥é”™ï¼Œå…ˆä½¿ç”¨cpuä¸‹çš„numpyå®ç°fft
2ã€å°†æ•°æ®é›†æš‚æ—¶æ”¾åˆ°kiganæ–‡ä»¶å¤¹ä¸‹ï¼Œæ–¹ä¾¿debugæ—¶æ›´å¿«è¿›å…¥è°ƒè¯•
```

### 241113 ğŸ‘‡
```
åˆ›å»ºæ–°åˆ†æ”¯devï¼Œç”¨äºè®°å½•æ·»åŠ spectralä¿¡æ¯åç›¸åº”çš„æ¨¡å‹ä¿®æ”¹
1ã€å¢åŠ spectral encoder
2ã€å¯¹é½ç»´åº¦
```

### 241111 ğŸ‘‡
### ä¸Šä¼ æ•°æ®é›†é¢„å¤„ç†æ–‡ä»¶
```
dataPreprocess.py # å¤„ç†å•ä¸ªæ–‡ä»¶
dataBatchPreprocess.py # å¤„ç†æ•´ä¸ªå¤©æ´¥æ•°æ®é›†ï¼Œéœ€è¦ä»main()ä¸­ä¿®æ”¹å¯¹åº”çš„æ–‡ä»¶å¤¹åœ°å€
```
### æ·»åŠ DEBUGæ¨¡å¼,æ•°æ®è½¬ç§»è‡³CPUä¸Šè¿è¡Œ
```
train.py
1.éœ€è¦å°†train.pyçš„argsä¸­--use_gpuè®¾ä¸º0
2.éœ€è¦å°†train.pyçš„discriminatorå’Œgeneratorä¸­çš„batch = [tensor.cuda() for tensor in batch]è¿›è¡Œä¿®æ”¹
3.åœ¨evalæ—¶batch = [tensor.cuda() for tensor in batch]è¿›è¡Œä¿®æ”¹

models.py
1.éœ€è¦å°†models.pyä¸­çš„å„ç±»encoderä¸­çš„init_hiddenæ–¹æ³•ä¸­çš„å…¨ç½®ä¸ºcpu()
2.åœ¨decoderéƒ¨åˆ†,æœ‰ä¸€ä¸ªdecoder_cä¹Ÿéœ€è¦ç½®ä¸ºcpu

åç»­å¦‚æœ‰éœ€è¦,å¯æ·»åŠ å¿«æ·è½¬æ¢æ–¹å¼
```

### 241108 belikeğŸ‘‡
.
â”œâ”€â”€ 01.png
â”œâ”€â”€ 02.png
â”œâ”€â”€ 03.png
â”œâ”€â”€ LICENSE
â”œâ”€â”€ README.md
â”œâ”€â”€ datasets
â”‚   â””â”€â”€ Tianjin
â”‚       â”œâ”€â”€ train
â”‚       â”‚   â””â”€â”€ basic_info_traffic_state.csv
â”‚       â””â”€â”€ val
â”‚           â””â”€â”€ basic_info_traffic_state.csv
â”œâ”€â”€ kigan
â”‚   â”œâ”€â”€ __pycache__
â”‚   â”‚   â”œâ”€â”€ losses.cpython-38.pyc
â”‚   â”‚   â”œâ”€â”€ models.cpython-38.pyc
â”‚   â”‚   â””â”€â”€ utils.cpython-38.pyc
â”‚   â”œâ”€â”€ data
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ __pycache__
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.cpython-38.pyc
â”‚   â”‚   â”‚   â”œâ”€â”€ loader.cpython-38.pyc
â”‚   â”‚   â”‚   â””â”€â”€ trajectories.cpython-38.pyc
â”‚   â”‚   â”œâ”€â”€ loader.py
â”‚   â”‚   â””â”€â”€ trajectories.py
â”‚   â”œâ”€â”€ losses.py
â”‚   â”œâ”€â”€ models.py
â”‚   â””â”€â”€ utils.py
â””â”€â”€ scripts
    â”œâ”€â”€ dataPreprocess.py
    â”œâ”€â”€ dataset
    â”‚   â””â”€â”€ Tianjin
    â”‚       â””â”€â”€ train
    â”‚           â””â”€â”€ basic_info_traffic_state.csv
    â”œâ”€â”€ detect_with_map.py
    â”œâ”€â”€ evaluate_model.py
    â”œâ”€â”€ map.osm
    â””â”€â”€ train.py
